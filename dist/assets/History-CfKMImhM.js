import{r as d,A as x,j as e}from"./index-c3ra4aFo.js";function h(){const{attendanceRecords:n,deleteAttendanceRecord:i}=d.useContext(x),a=d.useMemo(()=>[...n].sort((t,s)=>new Date(s.date)-new Date(t.date)),[n]),r=t=>{const s=n.find(c=>c.id===t);if(!s)return;const l=s.subject?.name||s.subject,o=new Date(s.date).toLocaleDateString();confirm(`Delete attendance record?

Subject: ${l}
Date: ${o}
Status: ${s.status}

This action cannot be undone.`)&&i(t)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"relative mb-6 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-5 text-white shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Attendance History"}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"View and manage your attendance records"})]}),e.jsx("div",{className:"absolute right-0 top-0 h-full w-64 opacity-20",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-full w-full",strokeWidth:"0.5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})]}),a.length>0&&e.jsxs("div",{className:"mb-4 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-100 rounded-lg p-3 text-sm text-gray-700 flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-indigo-500 mr-2 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("div",{children:e.jsx("p",{className:"font-medium",children:"Most recent date records appear at the top"})})]}),a.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No attendance records yet."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Records will appear here once you've marked attendance."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden space-y-4",children:a.map(t=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.subject?.name||t.subject}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.status==="Present"?"bg-green-100 text-green-800":t.status==="Absent"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.status})]}),e.jsxs("div",{className:"flex items-center mb-4 text-sm text-gray-600",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(t.date).toLocaleDateString()]}),e.jsx("div",{className:"flex justify-end gap-2 mt-3",children:e.jsxs("button",{onClick:()=>r(t.id),className:"bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-red-800 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})]})},t.id))}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-800 to-gray-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium uppercase tracking-wider",children:"Subject"}),e.jsxs("th",{className:"py-3 px-4 text-left text-sm font-medium uppercase tracking-wider",children:["Date",e.jsx("span",{className:"text-xs normal-case ml-2 font-normal bg-blue-500 py-0.5 px-1.5 rounded",children:"Most recent first"})]}),e.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:e.jsx("span",{className:"font-medium",children:t.subject?.name||t.subject})}),e.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:new Date(t.date).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${t.status==="Present"?"bg-green-100 text-green-800":t.status==="Absent"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>r(t.id),className:"bg-red-700 text-white px-3 py-1 rounded hover:bg-red-800 text-sm flex items-center",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})})]},t.id))})]})})})})]})]})})}export{h as default};
